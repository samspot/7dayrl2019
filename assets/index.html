<!doctype html>
<html>

<head>
  <title>Resident Evil RL</title>
</head>

<body>
  <div id="index"></div>
  <div id="tiletest">
    <img src="<%=require('assets/img/re-tiles-16-lab-new.png')%>" style="display: none">
    <img src="<%=require('assets/img/re-tiles-16-catacombs-new.png')%>" style="display: none">
    <img src="<%=require('assets/img/re-tiles-16-outside-new.png')%>" style="display: none">
    <img src="<%=require('assets/img/re-tiles-16-guardhouse-new.png')%>" style="display: none">
    <img src="<%=require('assets/img/re-tiles-16-mansion-new.png')%>" style="display: none">
    <img src="<%=require('assets/img/nemesis-death-v2.gif')%>" style="display: none">
  </div>

  <div id="top-border">
    <div class="title">
      <div id="logo"></div>
      <h1>Welcome to Resident Evil the Roguelike</h1>
      <button onclick="mainLoop()">Start Game</button>

      <p>
        <label for="dcut" class="firstRun">
          <input type="checkbox" id="dcut">
          Director's Cut (More enemies, Enemy Charge Enabled)
        </label>
      </p>

      <h2 id="instructions">Instructions</h2>
      You are the '@' (It's where you are 'at'). Bump into monsters to attack them (or use your skills).
      <p>Move with the
        arrow keys, WASD,
        or hjkl. </p>
      <p>You can wait with the '.' key if you want enemies to get into
        a better position. Once the level boss is dead or infected you can go to the
        next level with '>'.</p>
      <p> Skills are mapped to 'q', 'e', or 'r' and will put you into
        a targetting mode. Use the directional keys to move your cursor '#' and press enter
        to confirm the target.</p>

      <h3 class="firstRun">Tips</h3>
      <ul class="firstRun">
        <li>You cannot heal, but killing an enemy with the 'Infect' ability will take
          it over and reset your hp to max</li>
        <li>Dying resets your score. Try to stay alive or infect monsters before you die!</li>
        <li>You can mouseover portraits and abilities for more information.</li>
        <li>Something wrong? Submit your bugs or feedback <a
            href="https://github.com/samspot/7dayrl2019/issues">here</a></li>
      </ul>

      <h3 class="firstRun">High Scores</h3>
      <div id="highScoresSplash" class="firstRun"></div>

      <h3 class="firstRun">Game by samspot</h3>
      <p class="firstRun">Developed for <a href="https://itch.io/jam/7drl-challenge-2019">#7DRL 2019</a> in 7 days</p>
      <a class="firstRun" href="https://twitter.com/samspot">@samspot</a>
      <p class="firstRun">
        Hosted at <a href="https://samspot.itch.io/rerl">itch.io</a> along with a daily
        devlog. I streamed the entire competition on <a href="https://www.twitch.tv/samspot">Twitch</a>!
        The game is open sourced on <a href="https://github.com/samspot/7dayrl2019">Github</a>.
      </p>
      <p class="firstRun" id="pixelSam"></p>
    </div>

    <div id="gamediv"></div>

    <div id="modaldiv"></div>

    <div id="myModal" class="modal">
      <div class="modal-content">
        <span class="close">&times;</span>
        <span style="color: black" id="modal-text"></span>
      </div>
    </div>
  </div>

  <script>
    var modal = document.getElementById('myModal');

    // Get the <span> element that closes the modal
    var span = document.getElementsByClassName("close")[0];


    // When the user clicks on <span> (x), close the modal
    span.onclick = function () {
      window.gameDisplay.hideModal()
    }

    // When the user clicks anywhere outside of the modal, close it
    window.onclick = function (event) {
      if (event.target == modal) {
        window.gameDisplay.hideModal()
      }
    }
  </script>
</body>

</html>