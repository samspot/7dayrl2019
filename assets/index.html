<!doctype html>
<html>

<head>
  <title>7dayRL 2019</title>
  <style>
    #msg {
      /* opacity: .5; */
    }

    .old-message {
      opacity: .6
    }

    /* .important-message { */
    /* color: yellow; */
    /* font-weight: bold */
    /* } */

    .fade {
      /* color: grey; */
      opacity: 1.0;
      transition: opacity .25s ease-in-out;
      -moz-transition: opacity .25s ease-in-out;
      -webkit-transition: opacity .25s ease-in-out;
    }

    .fade2 {
      /* color: grey; */
      opacity: 1.0;
      transition: opacity .25s ease-out;
      -moz-transition: opacity .25s ease-out;
      -webkit-transition: opacity .25s ease-out;
    }

    .fade:hover {
      opacity: 0.5;
    }

    .fade-in {
      opacity: 1;
      animation-name: fadeInOpacity;
      animation-iteration-count: 1;
      animation-timing-function: ease-in;
      animation-duration: 1s;
    }

    @keyframes fadeInOpacity {
      0% {
        opacity: 0;
      }

      100% {
        opacity: 1;
      }
    }
  </style>
</head>

<!-- <body style="background-color: #333; color: white; font-family: Sans-Serif"> -->

<body>
  <div id="tiletest">
    <img src="<%=require('assets/img/re-tiles-16-lab.png')%>" style="display: none">
    <img src="<%=require('assets/img/re-tiles-16-lab-f2.png')%>" style="display: none">
    <img src="<%=require('assets/img/re-tiles-16-catacombs.png')%>" style="display: none">
    <img src="<%=require('assets/img/re-tiles-16-catacombs-f2.png')%>" style="display: none">
    <img src="<%=require('assets/img/re-tiles-16-outside.png')%>" style="display: none">
    <img src="<%=require('assets/img/re-tiles-16-outside-f2.png')%>" style="display: none">
    <img src="<%=require('assets/img/re-tiles-16-guardhouse.png')%>" style="display: none">
    <img src="<%=require('assets/img/re-tiles-16-guardhouse-f2.png')%>" style="display: none">
    <img src="<%=require('assets/img/re-tiles-16-mansion.png')%>" style="display: none">
    <img src="<%=require('assets/img/re-tiles-16-mansion-f2.png')%>" style="display: none">
  </div>
  <!-- <div id="top-border"></div> -->
  <!-- <div id="top-border2"></div> -->
  <div id="top-border">
    <div class="title">
      <div id="logo"></div>
      <h1>Welcome to Resident Evil the Roguelike</h1>
      <!-- <div style=""> -->
      <button onclick="mainLoop()">Start Game</button>
      <!-- </div> -->
      <!-- <div style=""> -->
      <p>
        <label for="dcut" class="firstRun">
          <input type="checkbox" id="dcut">
          Director's Cut (More enemies, Enemy Charge Enabled)
        </label>
      </p>
      <!-- </div> -->

      <h2 id="instructions">Instructions</h2>
      You are the '@' (It's where you are 'at'). Bump into monsters to attack them (or use your skills).
      <p>Move with the
        arrow keys, WASD,
        or hjkl. </p>
      <p>You can wait with the '.' key if you want enemies to get into
        a better position. Once the level boss is dead or infected you can go to the
        next level with '>'.</p>
      <p> Skills are mapped to 'q', 'e', or 'r' and will put you into
        a targetting mode. Use the directional keys to move your cursor '#' and press enter
        to confirm the target.</p>

      <h3 class="firstRun">Tips</h3>
      <ul class="firstRun">
        <li>You cannot heal, but killing an enemy with the 'Infect' ability will take
          it over and reset your hp to max</li>
        <li>Dying resets your score. Try to stay alive or infect monsters before you die!</li>
        <li>You can mouseover portraits and abilities for more information.</li>
        <li>Something wrong? Submit your bugs or feedback <a
            href="https://github.com/samspot/7dayrl2019/issues">here</a></li>
      </ul>

      <h3 class="firstRun">High Scores</h3>
      <div id="highScoresSplash" class="firstRun"></div>

      <h3 class="firstRun">Game by samspot</h3>
      <p class="firstRun">Developed for <a href="https://itch.io/jam/7drl-challenge-2019">#7DRL 2019</a> in 7 days</p>
      <a class="firstRun" href="https://twitter.com/samspot">@samspot</a>
      <p class="firstRun">
        Hosted at <a href="https://samspot.itch.io/rerl">itch.io</a> along with a daily
        devlog. I streamed the entire competition on <a href="https://www.twitch.tv/samspot">Twitch</a>!
        The game is open sourced on <a href="https://github.com/samspot/7dayrl2019">Github</a>.
      </p>
      <p class="firstRun" id="pixelSam"></p>
    </div>
    <div class="game">
      <h2 id="title">KILL S.T.A.R.S!</h2>
      <div id="status-bar">
        <div id="portrait2"></div>
        <div id="condition"></div>
        <div id="target">TARGET</div>
        <div id="ability-icons"></div>
        <span id="name"></span>
        <span id="hp"></span>
        <span id="score"></span>
      </div>
      <span id="level"></span>
      <!-- <div id="status2"> -->
      <!-- </div> -->
      <!--     
    <div id="status-info">
      <span id="name"></span>
      HP: <span id="hp" style="color: green"></span>
      Score: <span id="score" style="color: #96f "></span>
      <span id="level" colspan="2"></span>
    </div>
 -->
      <div class="main-container">
        <div style="float: left">
          <div style="float: left" id="mapContainer"></div>
        </div>
        <div id="right-bar">
          <div id="monster-container">
            <h3>Monsters</h3>
            <ol id="monsters">
            </ol>
          </div>
          <div id="progress-container">
            <h3>Game Progress</h3>
            <ul id="progress">
              <li id="level0">Status Unknown</li>
              <li id="level1">Status Unknown</li>
              <li id="level2">Status Unknown</li>
              <li id="level3">Status Unknown</li>
              <li id="level4">Status Unknown</li>
            </ul>
          </div>
        </div>
      </div>
      <div style="clear: both">
        <p id="msg">Welcome to ReRL</p>
      </div>
      <script src="bundle.js"></script>
      <script>
    // setTimeout(x => {
    //   document.getElementById('msg').classList.add('fade-in')
    // }, 1000)
      </script>
    </div>


    <!-- Trigger/Open The Modal -->
    <button id="myBtn" style="visibility: hidden">Open Modal</button>

    <!-- The Modal -->
    <div id="myModal" class="modal">

      <!-- Modal content -->
      <div class="modal-content">
        <span class="close">&times;</span>
        <p style="color: black" id="modal-text"></p>
      </div>

    </div>
  </div>

  <script>
    var modal = document.getElementById('myModal');

    // Get the <span> element that closes the modal
    var span = document.getElementsByClassName("close")[0];


    // When the user clicks on <span> (x), close the modal
    span.onclick = function () {
      window.gameDisplay.hideModal()
    }

    // When the user clicks anywhere outside of the modal, close it
    window.onclick = function (event) {
      if (event.target == modal) {
        window.gameDisplay.hideModal()
      }
    }
  </script>
</body>

</html>