<!doctype html>
<html>

<head>
  <title>7dayRL 2019</title>
  <style>
    #msg {
      /* opacity: .5; */
    }

    .old-message {
      opacity: .6
    }

    /* .important-message { */
    /* color: yellow; */
    /* font-weight: bold */
    /* } */

    .fade {
      /* color: grey; */
      opacity: 1.0;
      transition: opacity .25s ease-in-out;
      -moz-transition: opacity .25s ease-in-out;
      -webkit-transition: opacity .25s ease-in-out;
    }

    .fade2 {
      /* color: grey; */
      opacity: 1.0;
      transition: opacity .25s ease-out;
      -moz-transition: opacity .25s ease-out;
      -webkit-transition: opacity .25s ease-out;
    }

    .fade:hover {
      opacity: 0.5;
    }

    .fade-in {
      opacity: 1;
      animation-name: fadeInOpacity;
      animation-iteration-count: 1;
      animation-timing-function: ease-in;
      animation-duration: 1s;
    }

    @keyframes fadeInOpacity {
      0% {
        opacity: 0;
      }

      100% {
        opacity: 1;
      }
    }
  </style>
</head>

<!-- <body style="background-color: #333; color: white; font-family: Sans-Serif"> -->

<body>
  <!-- <div id="top-border"></div> -->
  <!-- <div id="top-border2"></div> -->
    <div id="top-border">
      <div class="title">
        <h1>Welcome to Resident Evil the Roguelike</h1>
        <p>Developed for <a href="https://itch.io/jam/7drl-challenge-2019">#7DRL 2019</a> in 7 days</p>
        <button onclick="mainLoop()">Start Game</button>

        <h2 id="instructions">Instructions</h2>
        You are the '@' (It's where you are 'at').  Move with the arrow keys, WASD, 
        or hjkl.  You can wait with the '.' key if you want enemies to get into 
        a better position.  Once the level boss is dead or infected you can go to the 
        next level with '>'.  Abilities are mapped to 'q', 'e', or 'r' and will put you into
        a targetting mode.  Use the directional keys to move your cursor '#' and press enter 
        to confirm the target.

        <h3>Tips</h3>
        <ul>
          <li>You cannot heal, but killing an enemy with the 'Infect' ability will take 
            it over and reset your hp to max</li>
          <li>Dying resets your score.  Try to stay alive or infect monsters before you die!</li>
        </ul>

        <h3>High Scores</h3>
        <div id="highScoresSplash"></div>

        <h3>Game by samspot</h3>
        <a href="https://twitter.com/samspot">@samspot</a>
        Hosted at <a href="https://samspot.itch.io/rerl">itch.io</a> along with a daily
        devlog.  I streamed the entire competition on <a href="https://www.twitch.tv/samspot">Twitch</a>!
        The game is open sourced on <a href="https://github.com/samspot/7dayrl2019">Github</a>.
        <p>a pixel art pic of me here</p>
      </div>
  <div class="game">
      <h2 id="title">KILL S.T.A.R.S!</h2>
      <div id="status-bar">
        <div id="portrait2"></div>
        <div id="condition"></div>
        <div id="target">TARGET</div>
        <div id="ability-icons"></div>
        <span id="name"></span>
        <span id="hp"></span>
        <span id="score"></span>
      </div>
      <span id="level"></span>
      <!-- <div id="status2"> -->
      <!-- </div> -->
      <!--     
    <div id="status-info">
      <span id="name"></span>
      HP: <span id="hp" style="color: green"></span>
      Score: <span id="score" style="color: #96f "></span>
      <span id="level" colspan="2"></span>
    </div>
 -->
      <div class="main-container">
        <div style="float: left">
          <div style="float: left" id="mapContainer">&nbsp;</div>
        </div>
        <div id="right-bar">
          <div id="monster-container">
            <h3>Monsters</h3>
            <ol id="monsters">
            </ol>
          </div>
          <div id="progress-container">
            <h3>Game Progress</h3>
            <ul id="progress">
              <li id="level0">Status Unknown</li>
              <li id="level1">Status Unknown</li>
              <li id="level2">Status Unknown</li>
              <li id="level3">Status Unknown</li>
              <li id="level4">Status Unknown</li>
            </ul>
          </div>
        </div>
      </div>
      <div style="clear: both">
        <p id="msg">Welcome to ReRL</p>
      </div>
      <script src="bundle.js"></script>
      <script>
    // setTimeout(x => {
    //   document.getElementById('msg').classList.add('fade-in')
    // }, 1000)
      </script>
    </div>


    <!-- Trigger/Open The Modal -->
    <button id="myBtn" style="visibility: hidden">Open Modal</button>

    <!-- The Modal -->
    <div id="myModal" class="modal">

      <!-- Modal content -->
      <div class="modal-content">
        <span class="close">&times;</span>
        <p style="color: black" id="modal-text">You Died and your score was reset to 0.
          Press a number key to select a character to infect. Umbrella shall never die!</p>
      </div>

    </div>
  </div>
  <script>
    // Get the modal
    var modal = document.getElementById('myModal');

    // Get the button that opens the modal
    var btn = document.getElementById("myBtn");

    // Get the <span> element that closes the modal
    var span = document.getElementsByClassName("close")[0];

    // When the user clicks on the button, open the modal 
    btn.onclick = function () {
      modal.style.display = "block";
    }

    let die = btn.onclick

    // When the user clicks on <span> (x), close the modal
    span.onclick = function () {
      modal.style.display = "none";
    }

    let undie = span.onclick

    // When the user clicks anywhere outside of the modal, close it
    window.onclick = function (event) {
      if (event.target == modal) {
        modal.style.display = "none";
      }
    }
  </script>



</body>

</html>